<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mermaid Word Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #87CEEB, #1E90FF);
    }
    #game {
      position: relative;
      width: 100vw;
      height: 100vh;
    }
    #mermaid {
      position: absolute;
      width: 50px;
      height: 50px;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHBhdGggZD0iTTI1IDBDMTEuMiAwIDAgMTEuMiAwIDI1czExLjIgMjUgMjUgMjUgMjUtMTEuMiAyNS0yNVszOC44IDAgMjUgMHptMCA0OGMtMTIuNyAwLTIzLTEwLjMtMjMtMjNTMTIuMyAyIDI1IDJzMjMgMTAuMyAyMyAyMy0xMC4zIDIzLTIzIDIzem0tMTItMTVjLTEuNyAwLTMtMS4zLTMtM3MxLjMtMyAzLTMgMyAxLjMgMyAzLTEuMyAzLTMgM3ptMjQgMGMtMS43IDAtMy0xLjMtMy0zczEuMy0zIDMtMyAzIDEuMyAzIDMtMS4zIDMtMyAzem0tMTItMTJjLTEuNyAwLTMtMS4zLTMtM3MxLjMtMyAzLTMgMyAxLjMgMyAzLTEuMyAzLTMgM3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=');
      background-size: cover;
      z-index: 2;
    }
    .letter {
      position: absolute;
      font-size: 24px;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      z-index: 1;
    }
    #word {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 32px;
      color: #fff;
      text-shadow: 2px 2px 4px #000;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="mermaid"></div>
    <div id="word"></div>
  </div>

  <script>
    const game = document.getElementById('game');
    const mermaid = document.getElementById('mermaid');
    const wordDisplay = document.getElementById('word');
    let word = '';
    let letters = [];
    let wordList = [];

    // Load word list
    fetch('http://dreamsteep.com/projects/the-english-open-word-list.html')
      .then(response => response.text())
      .then(data => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(data, 'text/html');
        const words = doc.querySelector('pre').innerText.split('\n');
        wordList = words.map(w => w.trim().toLowerCase());
      });

    // Mermaid position
    let mermaidX = window.innerWidth / 2;
    let mermaidY = window.innerHeight / 2;
    mermaid.style.left = `${mermaidX}px`;
    mermaid.style.top = `${mermaidY}px`;

    // Touch controls
    let touchX = 0, touchY = 0;
    game.addEventListener('touchstart', (e) => {
      touchX = e.touches[0].clientX;
      touchY = e.touches[0].clientY;
    });
    game.addEventListener('touchmove', (e) => {
      e.preventDefault();
      const deltaX = e.touches[0].clientX - touchX;
      const deltaY = e.touches[0].clientY - touchY;
      mermaidX = Math.max(0, Math.min(window.innerWidth - 50, mermaidX + deltaX));
      mermaidY = Math.max(0, Math.min(window.innerHeight - 50, mermaidY + deltaY));
      mermaid.style.left = `${mermaidX}px`;
      mermaid.style.top = `${mermaidY}px`;
      touchX = e.touches[0].clientX;
      touchY = e.touches[0].clientY;
    });

    // Generate random letters
    function generateLetter() {
      const letter = document.createElement('div');
      letter.className = 'letter';
      letter.innerText = String.fromCharCode(65 + Math.floor(Math.random() * 26));
      const x = Math.random() * (window.innerWidth - 50);
      const y = -50;
      letter.style.left = `${x}px`;
      letter.style.top = `${y}px`;
      game.appendChild(letter);
      letters.push({ element: letter, x, y });

      // Move letter downward
      const interval = setInterval(() => {
        y += 2;
        letter.style.top = `${y}px`;
        if (y > window.innerHeight) {
          clearInterval(interval);
          game.removeChild(letter);
          letters = letters.filter(l => l.element !== letter);
        }

        // Check collision with mermaid
        if (y >= mermaidY && y <= mermaidY + 50 && x >= mermaidX && x <= mermaidX + 50) {
          word += letter.innerText.toLowerCase();
          wordDisplay.innerText = word;
          game.removeChild(letter);
          letters = letters.filter(l => l.element !== letter);
          checkWord();
        }
      }, 20);
    }

    // Check if word is valid
    function checkWord() {
      if (wordList.includes(word)) {
        alert(`You found a word: ${word}!`);
        word = '';
        wordDisplay.innerText = '';
      }
    }

    // Generate letters every 2 seconds
    setInterval(generateLetter, 2000);
  </script>
</body>
</html>